# Quiniela-
<!DOCTYPE html>
<html lang="es" translate="no">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quinielas Bros - Quinielasperrillo</title>
    <link rel="stylesheet" href="/lib/bootstrap/superhero/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/styles.css" />
</head>

<body>
    <main class="container">
        
<div class="row justify-content-center">
  <div class="col-lg-7 col-md-12 p-0 logo">
    <div class="text-center text-white" style="background: #013D81;">
      <h1 class="fs-1 fw-bolder pt-1">QUINIELAS PERRILLO'S</h1>
      <span class="m-0 p-2 fs-4 text-uppercase">MEDIA SEMANA #140</span>
      <div style="position:absolute; right: 0px; top: 5px;">
        <img height="70" src="/bros_logo.png" />
      </div>
    </div>
    <table class="table table-sm table-bordered border-gray m-0">
        <tr class="align-middle">
          <td id="0_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 0, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638114147212246545.png" alt="638159076545734693.png" />
            LAZIO
          </td>
          <td id="0_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 0, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> FEYENOORD </span>
            <img height="17px" src="/flags/638159076545734693.png" alt="638159076545734693.png" />
          </td>
          <td id="0_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 0, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="1_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 1, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638116694039153261.png" alt="638116695082527575.png" />
            MILAN
          </td>
          <td id="1_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 1, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> PSG </span>
            <img height="17px" src="/flags/638116695082527575.png" alt="638116695082527575.png" />
          </td>
          <td id="1_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 1, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="2_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 2, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638125931095622437.png" alt="638334898148129771.png" />
            ATL. MADRID
          </td>
          <td id="2_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 2, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> CELTIC </span>
            <img height="17px" src="/flags/638334898148129771.png" alt="638334898148129771.png" />
          </td>
          <td id="2_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 2, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="3_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 3, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638134812814949259.png" alt="638134811896013172.png" />
            REAL SOCIEDAD
          </td>
          <td id="3_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 3, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> BENFICA </span>
            <img height="17px" src="/flags/638134811896013172.png" alt="638134811896013172.png" />
          </td>
          <td id="3_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 3, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="4_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 4, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638347009450829081.png" alt="638122539996422328.png" />
            KOBENHAVN
          </td>
          <td id="4_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 4, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> MAN. UNITED </span>
            <img height="17px" src="/flags/638122539996422328.png" alt="638122539996422328.png" />
          </td>
          <td id="4_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 4, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="5_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 5, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638122543096904346.png" alt="638122540915492055.png" />
            SALZBURG
          </td>
          <td id="5_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 5, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> INTER </span>
            <img height="17px" src="/flags/638122540915492055.png" alt="638122540915492055.png" />
          </td>
          <td id="5_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 5, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="6_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 6, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638122542470679197.png" alt="638129298025295936.png" />
            PSV
          </td>
          <td id="6_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 6, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> LENS </span>
            <img height="17px" src="/flags/638129298025295936.png" alt="638129298025295936.png" />
          </td>
          <td id="6_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 6, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="7_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 7, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638129297801745713.png" alt="638122540420168574.png" />
            ARSENAL
          </td>
          <td id="7_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 7, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> SEVILLA </span>
            <img height="17px" src="/flags/638122540420168574.png" alt="638122540420168574.png" />
          </td>
          <td id="7_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 7, 'V')">V</td>
        </tr>
        <tr class="align-middle">
          <td id="8_L" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 8, 'L')">L</td>
          <td class="text-start" style="font-size:0.8rem">
            <img height="17px" src="/flags/638105657541318247.png" alt="638105657923147475.png" />
            MONTERREY
          </td>
          <td id="8_E" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 8, 'E')">E</td>
          <td class="text-end" style="font-size:0.8rem">
            <span class="text-center"> SANTOS </span>
            <img height="17px" src="/flags/638105657923147475.png" alt="638105657923147475.png" />
          </td>
          <td id="8_V" width="45px" class="text-center fw-bolder" onclick="selectScore(this, 8, 'V')">V</td>
        </tr>
    </table>
    <div class="text-right fw-bold text-white p-2 text-uppercase" style="background: #013D81;">
      PRECIO: <span style="color:yellow;">$10.00</span>
      <span style="float:right;">
        <span class="text-danger">Cierre: </span>
        lunes 05:00 p.&#xA0;m.</span>
    </div>


    <div class="fs-3 fw-bold text-center text-uppercase">Informes: <span id="numeroTelefono">&#x2B;528136304398</span></div>

<div class="text-center fw-bold text-white p-2" style="background: #013D81;">
  <a class="link-light text-decoration-none" href="https://www.facebook.com/profile.php?id=100068859648879" target="_blank" rel="noopener noreferrer">
    <svg
   fill="#000000"
   width="25px"
   height="25px"
   viewBox="0 0 29.992 29.808"
   version="1.1"
   id="svg6"
   sodipodi:docname="facebook.svg"
   inkscape:version="1.2.1 (9c6d41e410, 2022-07-14)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs10" />
  <sodipodi:namedview
     id="namedview8"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     inkscape:zoom="0.295"
     inkscape:cx="-271.18644"
     inkscape:cy="398.30508"
     inkscape:window-width="1528"
     inkscape:window-height="1359"
     inkscape:window-x="632"
     inkscape:window-y="0"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg6" />
  <title
     id="title2">facebook</title>
  <g
     inkscape:groupmode="layer"
     id="layer1"
     inkscape:label="Layer 1"
     transform="translate(-1.004,-1.097)">
    <ellipse
       style="fill:#ffffff;stroke-width:0.04"
       id="path277"
       cx="15.740767"
       cy="16.174273"
       rx="13.915941"
       ry="14.587965" />
  </g>
  <path
     d="M 29.992,14.994 C 29.991,6.713 23.278,0 14.996,0 6.714,0 0,6.714 0,14.996 c 0,7.455 5.44,13.639 12.566,14.8 l 0.086,0.012 V 19.33 H 8.844 v -4.336 h 3.808 v -3.302 c -0.019,-0.167 -0.029,-0.361 -0.029,-0.557 0,-2.923 2.37,-5.293 5.293,-5.293 0.141,0 0.281,0.006 0.42,0.016 L 18.318,5.857 c 1.199,0.017 2.359,0.123 3.491,0.312 L 21.675,6.15 V 9.84 H 19.783 C 19.697,9.828 19.598,9.821 19.498,9.821 c -1.197,0 -2.168,0.97 -2.168,2.168 0,0.068 0.003,0.135 0.009,0.202 l -10e-4,-0.009 v 2.812 h 4.159 l -0.665,4.336 h -3.494 v 10.478 c 7.213,-1.174 12.653,-7.359 12.654,-14.814 z"
     id="path4"
     style="fill:#0165e1;fill-opacity:1" />
</svg>
    QUINIELAS BRO'S
  </a>
</div>

  </div>
</div>

<div class="text-center fs-3 fw-bolder mb-0">
  TOTAL: $<label id='totalPrice'></label>.00
</div>

<div class="row">
  <div>
      <input id="quinielaNombre" class="form-control mb-2" placeholder="Nombre de la quiniela" />
  </div>
  <div class="col">
    <div class="d-grid gap-2">
      <button id="btnClear" class="btn btn-danger">Limpiar</button>
    </div>
  </div>
  <div class="col">
    <div class="d-grid gap-2">
      <button id="btnAdd" class="btn btn-primary">Agregar</button>
    </div>
  </div>
  <div class="col">
    <div class="d-grid gap-2">
      <button id="btnRandom" class="btn btn-secondary">Aleatorio</button>
    </div>
  </div>
  <div class="d-grid gap-2 mt-3">
      <button id="btnSend" class="btn btn-success" onclick="sendAll()">Enviar
        <svg version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 40 40" xml:space="preserve" width="30" height="30" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
          <defs id="defs108" />
          <g id="XMLID_468_" transform="matrix(0.12987023,0,0,0.12987013,2.0203061e-4,0)" style="fill:#ffffff">
            <path
            id="XMLID_469_"
            d="m 227.904,176.981 c -0.6,-0.288 -23.054,-11.345 -27.044,-12.781 -1.629,-0.585 -3.374,-1.156 -5.23,-1.156 -3.032,0 -5.579,1.511 -7.563,4.479 -2.243,3.334 -9.033,11.271 -11.131,13.642 -0.274,0.313 -0.648,0.687 -0.872,0.687 -0.201,0 -3.676,-1.431 -4.728,-1.888 -24.087,-10.463 -42.37,-35.624 -44.877,-39.867 -0.358,-0.61 -0.373,-0.887 -0.376,-0.887 0.088,-0.323 0.898,-1.135 1.316,-1.554 1.223,-1.21 2.548,-2.805 3.83,-4.348 0.607,-0.731 1.215,-1.463 1.812,-2.153 1.86,-2.164 2.688,-3.844 3.648,-5.79 l 0.503,-1.011 c 2.344,-4.657 0.342,-8.587 -0.305,-9.856 -0.531,-1.062 -10.012,-23.944 -11.02,-26.348 -2.424,-5.801 -5.627,-8.502 -10.078,-8.502 -0.413,0 0,0 -1.732,0.073 -2.109,0.089 -13.594,1.601 -18.672,4.802 C 90,87.918 80.89,98.74 80.89,117.772 c 0,17.129 10.87,33.302 15.537,39.453 0.116,0.155 0.329,0.47 0.638,0.922 17.873,26.102 40.154,45.446 62.741,54.469 21.745,8.686 32.042,9.69 37.896,9.69 0.001,0 0.001,0 0.001,0 2.46,0 4.429,-0.193 6.166,-0.364 l 1.102,-0.105 c 7.512,-0.666 24.02,-9.22 27.775,-19.655 2.958,-8.219 3.738,-17.199 1.77,-20.458 -1.348,-2.216 -3.671,-3.331 -6.612,-4.743 z"
            style="fill:#ffffff" />
            <path
            id="XMLID_470_"
            d="M 156.734,0 C 73.318,0 5.454,67.354 5.454,150.143 c 0,26.777 7.166,52.988 20.741,75.928 L 0.212,302.716 c -0.484,1.429 -0.124,3.009 0.933,4.085 C 1.908,307.58 2.943,308 4,308 c 0.405,0 0.813,-0.061 1.211,-0.188 l 79.92,-25.396 c 21.87,11.685 46.588,17.853 71.604,17.853 C 240.143,300.27 308,232.923 308,150.143 308,67.354 240.143,0 156.734,0 Z m 0,268.994 c -23.539,0 -46.338,-6.797 -65.936,-19.657 -0.659,-0.433 -1.424,-0.655 -2.194,-0.655 -0.407,0 -0.815,0.062 -1.212,0.188 L 47.357,261.596 60.281,223.467 C 60.699,222.233 60.49,220.872 59.72,219.82 44.796,199.428 36.907,175.335 36.907,150.143 36.907,84.6 90.661,31.276 156.733,31.276 c 66.064,0 119.812,53.324 119.812,118.867 10e-4,65.535 -53.746,118.851 -119.811,118.851 z"
            style="fill:#ffffff" />
          </g>
        </svg>
      </button>
  </div>
</div>

<div class="row justify-content-center mt-3">
  <div class="col-lg-7 col-md-12 text-center" id="score">

  </div>
</div>
<div id="pools" class="row justify-content-center mt-3">
</div>

<script>
  var unitPrice = 10;
  var currentScore = [[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]];
  var gState = {
    quinielaPrincipal : {
      marcador : [[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]],
      precio : 10,
    },
    usuarioQuinielas : [],
    total : function () {
      var t = this.usuarioQuinielas.reduce((total, current) => current.precio + total,0);
      return t + this.quinielaPrincipal.precio;
    }
  };
  var sellRequest = {
    quinielaId: 80,
    userUrl: '17'
  };

  function sendAll() {
    var quinielaNombre = document.getElementById('quinielaNombre');
    if(quinielaNombre.value === '') {
      alert('La quiniela no tiene nombre');
      quinielaNombre.focus();
      return;
    }
    var cs = currentScore.map(e => e.filter(x => x !== null).join(''));
    var count = cs.filter(e => e !== '').length;
    var c2 = gState.usuarioQuinielas.length;
    var totalPartidos = currentScore.length;
    if (count == 0) {
      if(c2 === 0) {
        alert('Quiniela incompleta');
        return;
      }
    } else {
      if (count < totalPartidos) {
        alert('Quiniela incompleta');
        return;
      }
    }
    var total = document.getElementById('totalPrice').innerText;
    var numeroTelefono = document.getElementById('numeroTelefono').innerText;

    if(total < 20) {
      alert('El precio total debe ser de $20.00 pesos.');
      return;
    }

    sellRequest.resultados = [];

    var msg = `El total a pagar sera de \$${total}, desea continuar?`;
    if(confirm(msg)) {
      var marcador = '';
      if(cs.filter(e => e !== '').length > 0) {
        marcador = cs.join('%20%20') + '%20%20' + quinielaNombre.value + '%0A';
        sellRequest.resultados.push({
          marcador: cs,
          name: quinielaNombre.value
        });
      }
      for(var i = 0; i < gState.usuarioQuinielas.length; i++) {
        sellRequest.resultados.push(gState.usuarioQuinielas[i]);
        marcador += gState.usuarioQuinielas[i].marcador.join('%20%20');
        var nombre = document.getElementById('pool_'+i).dataset.name;
        marcador += '%20%20' + nombre;
        marcador += '%0A';
      }
      window.open(`https://wa.me/${numeroTelefono}?text=${marcador}`,'_blank');

      /*fetch('/Sells/save', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(sellRequest),
      })
      .then((res) => res.json())
      .finally(() => {
        window.open(`https://wa.me/${numeroTelefono}?text=${marcador}`,'_blank');
      });*/

    }
  }

  window.addEventListener('load', function () {
    document.getElementById('btnAdd').onclick = addScore;
    document.getElementById('btnClear').onclick = clearScore;
    document.getElementById('btnRandom').onclick = randomScore;
    document.getElementById('totalPrice').innerText = 0;
  });

  function clearScore() {
    currentScore = JSON.parse(JSON.stringify([[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null],[null,null,null]]));
    var scores = app.els('.selected');
    if (scores.length == 0) {
      return;
    }

    
</body>

</html>
